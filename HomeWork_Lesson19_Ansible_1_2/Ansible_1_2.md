### Задание

***Цель***: получить практический опыт работы с системой управления
конфигурацией Ansible
* перед началом работы с Ansible, разверните еще одну виртуальную
машину,которая будет менеджиться с помощью него.

***Задание 1***: установить Ansible

Обновите список пакетов:
```Bash
sudo apt update
```
Установите пакет `software-properties-common`, который позволит добавлять
репозитории:
```Bash
sudo apt install software-properties-common
```
Добавьте репозиторий Ansible PPA:
```Bash
sudo apt-add-repository ppa:ansible/ansible
```
Обновите список пакетов:
```Bash
sudo apt update
```
Установите Ansible:
```Bash
sudo apt install ansible
```

***Задание 2***: сгенерировать SSH-ключ
● Откройте терминал на вашем контролирующем хосте.
● Запустите команду для генерации ключа:
```Bash
ssh-keygen -t rsa -b 4096
```
При выполнении этой команды вам будет предложено ввести путь к файлу,
в котором будет сохранен ключ, а также парольная фраза (пароль не
обязателен, но рекомендуется).
После того, как ключ будет сгенерирован, скопируйте его на управляемый
хост:
```Bash
ssh-copy-id user@managed_host
```
В этой команде `user` - это имя пользователя на управляемом хосте, а
`managed_host` - имя или IP-адрес управляемого хоста.
● При выполнении этой команды вам будет предложено ввести пароль
пользователя на управляемом хосте.
● После успешной передачи ключа на управляемый хост вы можете
использовать Ansible для управления им.
Задание 3: просмотрите и повторите все манипуляции, указанные в
видеоуроке по ссылке
`https://www.youtube.com/watch?v=O5R6EBdaZZg&list=PLg5SS_4L6LYufspdPupdynbMQTBnZd31N&index=4`

В данном ролике рассматривается шаги подключения к серверам Linux.

Цель: настроить Ansible окружение на вашей машине, чтобы вы могли
использовать его для автоматизации управления конфигурацией и
развертывания приложений на удаленных серверах.
***Задание***: Настройка Ansible окружения
Шаги:
1. Установите Ansible на вашу локальную машину. В зависимости от
операционной системы, которую вы используете, установка может
отличаться. Инструкции по установке Ansible можно найти на официальном
сайте: `https://docs.ansible.com/ansible/latest/installation_guide/index.html`
2. Создайте инвентарный файл, который содержит информацию о
серверах, которые вы планируете управлять с помощью Ansible.
Инвентарный файл может быть в формате ini или YAML. Например:
```Bash
[servers]
server1 ansible_host=192.168.1.100 ansible_user=myuser
ansible_ssh_private_key_file=/path/to/key.pem
server2 ansible_host=192.168.1.101 ansible_user=myuser
ansible_ssh_private_key_file=/path/to/key.pem
```

В этом примере мы определяем два сервера с IP-адресами `192.168.1.100` и
`192.168.1.101`. Мы также указываем имя пользователя и путь к файлу с
приватным ключом SSH, который Ansible будет использовать для
аутентификации.

3. Создайте файл конфигурации Ansible, который будет содержать
глобальные настройки Ansible. Файл конфигурации Ansible может быть
расположен в нескольких местах, включая каталоги /etc/ansible и ~/.ansible/.
Например:
```Bash
[defaults]
inventory = /path/to/inventory_file
remote_user = myuser
private_key_file = /path/to/key.pem
```

В этом примере мы указываем путь к инвентарному файлу, имя пользователя
SSH и путь к файлу с приватным ключом SSH, который Ansible будет
использовать для аутентификации.

4. Создайте простой плейбук Ansible, который будет выполнять простую
задачу на одном из ваших серверов. Например, вы можете создать плейбук,
который устанавливает пакеты на сервере. Пример
---
```Bash
- name: Install packages
hosts: servers
become: true
tasks:
- name: Install Nginx
apt:
name: nginx
state: present
```

В этом примере мы создаем плейбук, который устанавливает пакет Nginx на
всех серверах, определенных в инвентарном файле. Мы также указываем, что
Ansible должен использовать привилегии root для выполнения.